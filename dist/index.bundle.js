(()=>{var e,t={5358:(e,t,n)=>{var o={"./af":5177,"./af.js":5177,"./ar":1509,"./ar-dz":1488,"./ar-dz.js":1488,"./ar-kw":8676,"./ar-kw.js":8676,"./ar-ly":2353,"./ar-ly.js":2353,"./ar-ma":4496,"./ar-ma.js":4496,"./ar-ps":6947,"./ar-ps.js":6947,"./ar-sa":2682,"./ar-sa.js":2682,"./ar-tn":9756,"./ar-tn.js":9756,"./ar.js":1509,"./az":5533,"./az.js":5533,"./be":8959,"./be.js":8959,"./bg":7777,"./bg.js":7777,"./bm":4903,"./bm.js":4903,"./bn":1290,"./bn-bd":7357,"./bn-bd.js":7357,"./bn.js":1290,"./bo":1545,"./bo.js":1545,"./br":1470,"./br.js":1470,"./bs":4429,"./bs.js":4429,"./ca":7306,"./ca.js":7306,"./cs":6464,"./cs.js":6464,"./cv":3635,"./cv.js":3635,"./cy":4226,"./cy.js":4226,"./da":3601,"./da.js":3601,"./de":7853,"./de-at":6111,"./de-at.js":6111,"./de-ch":4697,"./de-ch.js":4697,"./de.js":7853,"./dv":708,"./dv.js":708,"./el":4691,"./el.js":4691,"./en-au":3872,"./en-au.js":3872,"./en-ca":8298,"./en-ca.js":8298,"./en-gb":6195,"./en-gb.js":6195,"./en-ie":6584,"./en-ie.js":6584,"./en-il":5543,"./en-il.js":5543,"./en-in":9033,"./en-in.js":9033,"./en-nz":9402,"./en-nz.js":9402,"./en-sg":3004,"./en-sg.js":3004,"./eo":2934,"./eo.js":2934,"./es":7650,"./es-do":838,"./es-do.js":838,"./es-mx":7730,"./es-mx.js":7730,"./es-us":6575,"./es-us.js":6575,"./es.js":7650,"./et":3035,"./et.js":3035,"./eu":3508,"./eu.js":3508,"./fa":119,"./fa.js":119,"./fi":527,"./fi.js":527,"./fil":5995,"./fil.js":5995,"./fo":2477,"./fo.js":2477,"./fr":5498,"./fr-ca":6435,"./fr-ca.js":6435,"./fr-ch":7892,"./fr-ch.js":7892,"./fr.js":5498,"./fy":7071,"./fy.js":7071,"./ga":1734,"./ga.js":1734,"./gd":217,"./gd.js":217,"./gl":7329,"./gl.js":7329,"./gom-deva":2124,"./gom-deva.js":2124,"./gom-latn":3383,"./gom-latn.js":3383,"./gu":5050,"./gu.js":5050,"./he":1713,"./he.js":1713,"./hi":3861,"./hi.js":3861,"./hr":6308,"./hr.js":6308,"./hu":609,"./hu.js":609,"./hy-am":7160,"./hy-am.js":7160,"./id":4063,"./id.js":4063,"./is":9374,"./is.js":9374,"./it":8383,"./it-ch":1827,"./it-ch.js":1827,"./it.js":8383,"./ja":3827,"./ja.js":3827,"./jv":9722,"./jv.js":9722,"./ka":1794,"./ka.js":1794,"./kk":7088,"./kk.js":7088,"./km":6870,"./km.js":6870,"./kn":4451,"./kn.js":4451,"./ko":3164,"./ko.js":3164,"./ku":8174,"./ku-kmr":6181,"./ku-kmr.js":6181,"./ku.js":8174,"./ky":8474,"./ky.js":8474,"./lb":9680,"./lb.js":9680,"./lo":5867,"./lo.js":5867,"./lt":5766,"./lt.js":5766,"./lv":9532,"./lv.js":9532,"./me":8076,"./me.js":8076,"./mi":1848,"./mi.js":1848,"./mk":306,"./mk.js":306,"./ml":3739,"./ml.js":3739,"./mn":9053,"./mn.js":9053,"./mr":6169,"./mr.js":6169,"./ms":3386,"./ms-my":2297,"./ms-my.js":2297,"./ms.js":3386,"./mt":7075,"./mt.js":7075,"./my":2264,"./my.js":2264,"./nb":2274,"./nb.js":2274,"./ne":8235,"./ne.js":8235,"./nl":2572,"./nl-be":3784,"./nl-be.js":3784,"./nl.js":2572,"./nn":4566,"./nn.js":4566,"./oc-lnc":9330,"./oc-lnc.js":9330,"./pa-in":9849,"./pa-in.js":9849,"./pl":4418,"./pl.js":4418,"./pt":9834,"./pt-br":8303,"./pt-br.js":8303,"./pt.js":9834,"./ro":4457,"./ro.js":4457,"./ru":2271,"./ru.js":2271,"./sd":1221,"./sd.js":1221,"./se":3478,"./se.js":3478,"./si":7538,"./si.js":7538,"./sk":5784,"./sk.js":5784,"./sl":6637,"./sl.js":6637,"./sq":6794,"./sq.js":6794,"./sr":5719,"./sr-cyrl":3322,"./sr-cyrl.js":3322,"./sr.js":5719,"./ss":6e3,"./ss.js":6e3,"./sv":1011,"./sv.js":1011,"./sw":748,"./sw.js":748,"./ta":1025,"./ta.js":1025,"./te":1885,"./te.js":1885,"./tet":8861,"./tet.js":8861,"./tg":6571,"./tg.js":6571,"./th":5802,"./th.js":5802,"./tk":9527,"./tk.js":9527,"./tl-ph":9231,"./tl-ph.js":9231,"./tlh":1052,"./tlh.js":1052,"./tr":5096,"./tr.js":5096,"./tzl":9846,"./tzl.js":9846,"./tzm":1765,"./tzm-latn":7711,"./tzm-latn.js":7711,"./tzm.js":1765,"./ug-cn":8414,"./ug-cn.js":8414,"./uk":6618,"./uk.js":6618,"./ur":158,"./ur.js":158,"./uz":7609,"./uz-latn":2475,"./uz-latn.js":2475,"./uz.js":7609,"./vi":1135,"./vi.js":1135,"./x-pseudo":4051,"./x-pseudo.js":4051,"./yo":2218,"./yo.js":2218,"./zh-cn":2648,"./zh-cn.js":2648,"./zh-hk":1632,"./zh-hk.js":1632,"./zh-mo":1541,"./zh-mo.js":1541,"./zh-tw":304,"./zh-tw.js":304};function s(e){var t=a(e);return n(t)}function a(e){if(!n.o(o,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return o[e]}s.keys=function(){return Object.keys(o)},s.resolve=a,e.exports=s,s.id=5358},44:(e,t,n)=>{"use strict";var o=n(223),s=n(7594);(0,o.Wp)({apiKey:"AIzaSyDChyRMRZw13CIheI4_vd5bsrFLBprMC20",authDomain:"that-sky-calendar-ffd49.firebaseapp.com",projectId:"that-sky-calendar-ffd49",storageBucket:"that-sky-calendar-ffd49.appspot.com",messagingSenderId:"994867085966",appId:"1:994867085966:web:ea6d5b05bccb508eb73fdf",measurementId:"G-FXXSH6NS6Z"});const a=(0,s.aU)(),i=(0,s.rJ)(a,"events");(0,s.rJ)(a,"shards");let r=[],c={},l=0,d=[];function m(e,t){const n=moment(e),o=moment(t);return n.month()===o.month()?`${n.format("MMM DD")} - ${o.format("DD")}`:`${n.format("MMM DD")} - ${o.format("MMM DD")}`}function u(e){const t=new Date,n=new Date(e.start),o=new Date(e.end);let s="";s="Recurring"===e.category?`Every ${e.recurringInterval||"0:30"}`:t<n?function(e){const t=new Date,n=new Date(e)-t;if(n<=0)return"Started";const o=Math.floor(n/864e5),s=Math.floor(n%864e5/36e5),a=Math.floor(n%36e5/6e4);return 0===o?`Starts in ${s}H ${a}M`:`Starts in ${o}D ${s}H ${a}M`}(n):t>=n&&t<=o?`Ends in: ${function(e){const t=new Date,n=new Date(e)-t;return n<=0?"Ended":`${Math.floor(n/864e5)}D ${Math.floor(n%864e5/36e5)}H`}(o)}`:"Event ended";const a=document.createElement("div");return a.className="event-card",a.dataset.eventId=e.id||p(e.title),a.innerHTML=`\n    <img src="${e.image||"https://ik.imagekit.io/e3wiv79bq/Sky:%20Cotl/not%20available?updatedAt=1744181831782"}" alt="${e.title}">\n    <div class="event-details">\n        <h3>${e.title.replace(/^[\p{Emoji}\p{Extended_Pictographic}]+\s*/u,"")}</h3>\n        <p>${m(e.start,e.end)}</p>\n        <p>${s}</p>\n    </div>\n    <div class="arrow">›</div>\n  `,a}function p(e){return e.toLowerCase().replace(/[^a-z0-9]/g,"-")}function g(){const e=document.getElementById("prev-month"),t=document.getElementById("next-month");document.getElementById("current-month-year").textContent=d[l],e.disabled=0===l,t.disabled=l===d.length-1}function h(){const e=d[l],t=document.getElementById("all-events-content");t.innerHTML="";const n=document.createElement("div");n.className="month-divider",t.appendChild(n);const o=c[e]||[];if(0===o.length){const e=document.createElement("div");e.className="no-events",e.textContent="No events for this month",t.appendChild(e)}else o.forEach((e=>{const n=u(e);t.appendChild(n)}));j()}function v(){const e=new Date;!function(e,t,n){if(document.getElementById("in-progress").style.display="none",document.getElementById("upcoming").style.display="none",document.getElementById("all").style.display="none","all"===e)document.getElementById("all").style.display="block",c=function(e){const t={};return e.forEach((e=>{const n=new Date(e.start),o=moment(n).format("MMMM YYYY");t[o]||(t[o]=[]),t[o].push(e)})),t}(r),d=Object.keys(c).sort(((e,t)=>moment(e,"MMMM YYYY").diff(moment(t,"MMMM YYYY")))),l=function(e){const t=moment().format("MMMM YYYY"),n=e.indexOf(t);return-1!==n?n:0}(d),g(),h();else if("in-progress"===e){const e=document.getElementById("in-progress");e.style.display="block",e.innerHTML="",0===t.length?e.innerHTML='<div class="no-events">No events in progress</div>':t.forEach((t=>{const n=u(t);e.appendChild(n)})),j()}else if("upcoming"===e){const e=document.getElementById("upcoming");e.style.display="block",e.innerHTML="",0===n.length?e.innerHTML='<div class="no-events">No upcoming events</div>':n.forEach((t=>{const n=u(t);e.appendChild(n)})),j()}}(document.querySelector(".tab.active").dataset.tab,r.filter((t=>{const n=new Date(t.start),o=new Date(t.end);return e>=n&&e<=o})),r.filter((t=>{const n=new Date(t.start);return e<n})))}function y(e){const t=document.querySelector(".preview-panel");if(!t)return;if(!e)return void(t.innerHTML='<div class="loading">Select an event to view details</div>');const n=m(new Date(e.start),new Date(e.end)),o=e.title.replace(/^[\p{Emoji}\p{Extended_Pictographic}]+\s*/u,"");let s=e.category||"EVENT";s.toUpperCase().includes("DAY")?s="DAYS OF":s.toUpperCase().includes("SEASONS")?s="SEASON":s.toUpperCase().includes("TRAVELLING-SPIRITS")&&(s="TS"),t.innerHTML=`\n    <div class="carousel">\n      <div class="carousel-images-panel"></div>\n      <button class="carousel-btn-panel prev">❮</button>\n      <button class="carousel-btn-panel next">❯</button>\n    </div>\n    <div class="credits-section">\n      <span class="credits-list">Credits: ${e.credits||"Kathy"}</span>\n    </div>\n    <div class="days-badge">${s}</div>\n    <h2>${o}</h2>\n    <p class="date">${n}</p>\n    <p class="description">${e.description||"No description available"}</p>\n  `,function(e){const t=document.querySelector(".carousel-images-panel");if(e.images){const n="string"==typeof e.images&&e.images.includes(",")?e.images.split(/,|\|/).map((e=>e.trim())):Array.isArray(e.images)?e.images:[e.images];n.forEach(((n,o)=>{const s=document.createElement("img");s.src=n,s.alt=`${e.title} image ${o+1}`,s.className=0===o?"active":"",t.appendChild(s)})),document.querySelectorAll(".carousel-btn-panel").forEach((e=>{e.style.display=n.length>1?"block":"none"}))}else{const e=document.createElement("img");e.src="https://ik.imagekit.io/e3wiv79bq/Sky:%20Cotl/not%20available?updatedAt=1744181831782",e.alt="Event placeholder image",e.className="active",t.appendChild(e),document.querySelectorAll(".carousel-btn-panel").forEach((e=>{e.style.display="none"}))}}(e),document.querySelector(".carousel-btn-panel.prev").addEventListener("click",(()=>f(-1))),document.querySelector(".carousel-btn-panel.next").addEventListener("click",(()=>f(1)))}function f(e){const t=document.querySelectorAll(".carousel-images-panel img");if(t.length<=1)return;let n=-1;t.forEach(((e,t)=>{e.classList.contains("active")&&(n=t,e.classList.remove("active"))})),-1!==n&&t[(n+e+t.length)%t.length].classList.add("active")}function j(){document.querySelectorAll(".event-card").forEach((e=>{e.addEventListener("click",(()=>{document.querySelectorAll(".event-card").forEach((e=>e.classList.remove("active"))),e.classList.add("active");const t=e.dataset.eventId,n=r.find((e=>(e.id||p(e.title))===t));n&&y(n)}))}))}function b(e,t){0!==e.length&&e.forEach((e=>{const n=document.createElement("div");n.classList.add("event-card-overview"),n.style.borderBottom=`4px solid ${e.color}`,n.dataset.eventId=e.id;const o=document.createElement("div");o.classList.add("event-image-overview");const s=document.createElement("img");s.classList.add("event-modal-card-img-overview"),s.src=e.image,s.alt=e.title,o.appendChild(s),n.appendChild(o);const a=document.createElement("div");a.classList.add("event-badge-overview");let i=function(e){let t=e||"EVENT";return t.toUpperCase().includes("DAY")?"DAYS OF":t.toUpperCase().includes("SEASONS")?"SEASON":t.toUpperCase().includes("TRAVELLING-SPIRITS")?"TS":t}(e.category);a.textContent=i,n.appendChild(a);const r=document.createElement("div");r.classList.add("event-content-overview");const c=document.createElement("h3");c.classList.add("event-title-overview"),c.textContent=e.title.replace(/^[\p{Emoji}\p{Extended_Pictographic}]+\s*/u,""),r.appendChild(c);const l=document.createElement("p");l.classList.add("event-date-overview");const d=new Date(e.start),m=new Date(e.end),u=d.toLocaleDateString("en-US",{month:"short",day:"2-digit"}),p=m.toLocaleDateString("en-US",{month:"short",day:"2-digit"});l.textContent=`${u} - ${p}`,r.appendChild(l);const g=document.createElement("p");g.classList.add("event-countdown-overview");const h=`countdown-${e.title.replace(/ /g,"_")}`;g.id=h;const v=e.start?e.start-new Date:0,y=v<=0?"Starts: Ongoing":"Starts in: ";setTimeout((()=>{E(h,e.start,y),v<=0&&E(h,e.end,"Ends in: ")}),0),r.appendChild(g),n.appendChild(r),t.appendChild(n)}))}function E(e,t,n){if(!t)return;const o=document.getElementById(e);let s=setInterval((function(){const e=t.getTime()-(new Date).getTime();if(e<=0)return clearInterval(s),void(o.textContent=`${n}Ongoing`);const a=Math.floor(e/864e5),i=Math.floor(e%864e5/36e5),r=Math.floor(e%36e5/6e4);let c="";a>0&&(c+=`${a}d `),i>0&&(c+=`${i}h `),r>0&&(c+=`${r}m `),c+=`${Math.floor(e%6e4/1e3)}s`,o.textContent=`${n}${c}`}),1e3)}function w(e,t){return`${new Intl.DateTimeFormat("en-US",{month:"short",day:"numeric",year:"numeric",hour:"2-digit",minute:"numeric",hour12:!0}).format(e)} (${Intl.DateTimeFormat().resolvedOptions().timeZone})`}function k(e){const t=document.querySelectorAll(".carousel-images img");if(t.length<=1)return;let n=-1;t.forEach(((e,t)=>{e.classList.contains("active")&&(n=t,e.classList.remove("active"))})),-1!==n&&t[(n+e+t.length)%t.length].classList.add("active")}function x(e,t,n,o,s){const a=document.createElement("div");return a.className=`event-notice ${t}`,a.innerHTML=`\n      <div class="notice-icon">\n        <img src="${n}" alt="${t} event icon">\n      </div>\n      <div class="notice-text">\n        <p><strong>${o}</strong> <u>${e.title}</u> ${s}</p>\n      </div>\n    `,a}Promise.all([(0,s.GG)((0,s.P)(i,(0,s.My)("start","asc")))]).then((([e])=>{const t=[];e.docs.forEach((e=>{const o=new Date(e.data().start),s=new Date(e.data().end),a=n(5093);n(4743);const i=a.tz.guess(),r=a(o).tz("America/Los_Angeles"),c=a(s).tz("America/Los_Angeles");r.hour(24).minute(0).second(0),c.hour(23).minute(59).second(59);const l=r.clone().tz(i),d=c.clone().tz(i),m=l.toDate(),u=d.toDate(),g=e.id||p(e.data().title);t.push({id:g,title:e.data().title,start:m,end:u,color:e.data().color,description:e.data().description,images:e.data().images,blogUrl:e.data().blogUrl,image:e.data().image,credits:e.data().credits,category:e.data().category||"Default Category"})})),function(e){const t=document.getElementById("calendar"),n=new FullCalendar.Calendar(t,{initialView:"dayGridMonth",fixedWeekCount:!1,aspectRatio:1.35,height:"auto",events:e,eventContent:function(e){const t=e.event.extendedProps.icon;return t?{html:`\n            <div class="event-icon-container">\n              <img src="${t}" class="event-icon" alt="sky: cotl, shards" />\n            </div>\n          `}:{html:`<span class="fc-event-title">${e.event.title}</span>`}},eventOrder:"description",eventClick:function(e){!function(e){const t=document.getElementById("eventModal"),n=document.getElementById("modalTitle"),o=document.getElementById("modalStart"),s=(document.getElementById("modalEnd"),document.getElementById("modalDescription")),a=document.getElementById("modalCta"),i=document.querySelector(".carousel-images"),r=document.querySelector(".credits-list"),c=w(e.start),l=w(e.end);i.innerHTML="",r.textContent=e.extendedProps.credits?"Credits: "+e.extendedProps.credits:"Credits: We're working on gathering information for you. Check back soon!";const d=e.title.replace(/^[\p{Emoji}\p{Extended_Pictographic}]+\s*/u,"");n.textContent=d,o.textContent=c+" - "+l,s.innerHTML=e.extendedProps.description||"The story behind this event is still unfolding...",e.extendedProps.blogUrl?(a.target="_blank",a.textContent="Read More",a.href=e.extendedProps.blogUrl,a.style.display="inline-block"):a.style.display="none",function(e){const t=document.querySelector(".carousel-images");if(e.extendedProps.images){const n=e.extendedProps.images.includes(",")?e.extendedProps.images.split(/,|\|/).map((e=>e.trim())):[e.extendedProps.images];n.forEach(((n,o)=>{const s=document.createElement("img");s.src=n,s.alt=`${e.title} image ${o+1}`,s.className=0===o?"active":"",t.appendChild(s)})),document.querySelectorAll(".carousel-btn").forEach((e=>{e.style.display=n.length>1?"block":"none"}))}else{const e=document.createElement("img");e.src="https://ik.imagekit.io/e3wiv79bq/Sky:%20Cotl/not%20available?updatedAt=1744181831782",e.alt="Event placeholder image",e.className="active",t.appendChild(e),document.querySelectorAll(".carousel-btn").forEach((e=>{e.style.display="none"}))}}(e),t.style.display="block"}(e.event)}});n.render(),function(e,t){const n=document.createElement("select");n.id="category-filter",n.title="category-filter",n.innerHTML='\n    <option value="">All Categories</option>\n    <option value="shard">Shard</option>\n    <option value="days-of-events">Days of Events</option>\n    <option value="travelling-spirits">Travelling Spirits</option>\n    <option value="seasons">Seasons</option>\n    <option value="hide">Hide Shards</option>\n  ',document.querySelector(".fc-toolbar-chunk:nth-child(2)").appendChild(n),n.addEventListener("change",(function(){const n=this.value.toLowerCase(),o=t.filter((e=>"hide"===n?!e.category||!e.category.toLowerCase().includes("shard"):e.category&&e.category.toLowerCase()===n||""===n));e.removeAllEventSources(),e.addEventSource(o)}))}(n,e)}(t),function(e){const t=document.querySelector(".info-container");t.innerHTML="";const n=document.createElement("div");n.innerHTML="<h2>Heads Up!</h2>",t.appendChild(n);const o=new Date,s=[],a=[];if(e.forEach((e=>{const t=new Date(e.start),n=new Date(e.end),i=Math.ceil((t-o)/864e5),r=Math.ceil((n-o)/864e5);i>0&&i<=4&&(e.daysUntil=i,s.push(e)),o>=t&&r>0&&r<=4&&(e.daysUntil=r,a.push(e))})),s.sort(((e,t)=>e.daysUntil-t.daysUntil)),a.sort(((e,t)=>e.daysUntil-t.daysUntil)),s.length>0)s.slice(0,2).forEach((e=>{const n=x(e,"upcoming","https://img.icons8.com/?size=100&id=FhnRPWu7HD5f&format=png&color=000000","Coming Soon:",`begins in ${e.daysUntil} day${e.daysUntil>1?"s":""}!`);t.appendChild(n)}));else if(0===s.length&&0===a.length){const e=function(e){const t=document.createElement("div");return t.className=`event-notice ${e}`,t.innerHTML=`\n      <div class="notice-icon">\n        <img src="https://img.icons8.com/?size=100&id=3ovMFy5JDSWq&format=png&color=000000" alt="${e} event icon">\n      </div>\n      <div class="notice-text">\n        <p>Relax! No events are starting or ending within the next 4 days.</p>\n      </div>\n    `,t}("upcoming");t.appendChild(e)}if(a.length>0&&a.slice(0,2).forEach((e=>{const n=x(e,"ending","https://img.icons8.com/?size=100&id=Sd2tYsgMJNyn&format=png&color=000000","Last Chance:",`ends in ${e.daysUntil} day${e.daysUntil>1?"s":""}!`);t.appendChild(n)})),0===s.length&&0===a.length){const e=document.querySelector(".heads-up");e&&(e.style.display="none")}}(t),function(e){const t=document.querySelector(".event-cards-overview");t.innerHTML="";const n=new Date,o=[],s=[];e.forEach((e=>{const t=new Date(e.start),a=new Date(e.end);n>=t&&n<=a?o.push(e):n<t&&n<a&&s.push(e)})),b(o,t),b(s,t)}(t)})).catch((e=>{console.error("Error getting documents: ",e)})),document.addEventListener("DOMContentLoaded",(function(){setTimeout((function(){document.querySelector(".overlay").style.opacity=0,setTimeout((function(){document.querySelector(".overlay").style.display="none"}),500)}),500);var e=document.getElementById("game-modal"),t=document.getElementById("open-game-modal"),n=document.getElementsByClassName("close")[0];t.onclick=function(){e.style.display="block"},n.onclick=function(){e.style.display="none"},window.onclick=function(t){t.target==e&&(e.style.display="none")};const o=document.querySelectorAll(".tab"),a=document.querySelectorAll(".tab-pane");o.forEach((e=>{e.addEventListener("click",(()=>{o.forEach((e=>e.classList.remove("active"))),e.classList.add("active"),a.forEach((e=>e.style.display="none"));const t=e.dataset.tab;document.getElementById(t).style.display="block",r.length>0&&v()}))})),document.getElementById("prev-month").addEventListener("click",(()=>{l>0&&(l--,g(),h())})),document.getElementById("next-month").addEventListener("click",(()=>{l<d.length-1&&(l++,g(),h())})),Promise.all([(0,s.GG)((0,s.P)(i,(0,s.My)("start","asc")))]).then((([e])=>{r=[],e.docs.forEach((e=>{const t=new Date(e.data().start),n=new Date(e.data().end),o=moment.tz.guess(),s=moment(t).tz("America/Los_Angeles"),a=moment(n).tz("America/Los_Angeles");s.hour(24).minute(0).second(0),a.hour(23).minute(59).second(59);const i=s.clone().tz(o),c=a.clone().tz(o),l=e.id||p(e.data().title);r.push({id:l,title:e.data().title,start:i.toDate(),end:c.toDate(),color:e.data().color,description:e.data().description,images:e.data().images,blogUrl:e.data().blogUrl,image:e.data().image,credits:e.data().credits,category:e.data().category||"Default Category"})})),v(),r.length>0&&(y(r[0]),setTimeout((()=>{const e=document.querySelector(".event-card");e&&(e.classList.add("active"),document.querySelector(".preview-panel").innerHTML='<div class="loading">Select an event to view details</div>')}),0))})).catch((e=>{console.error("Error getting documents: ",e);const t='<div class="no-events">Error loading events. Please try again later.</div>';document.getElementById("all-events-content").innerHTML=t,document.getElementById("in-progress-content").innerHTML=t,document.getElementById("upcoming-content").innerHTML=t})),a.forEach((e=>{e.id===document.querySelector(".tab.active").dataset.tab?e.style.display="block":e.style.display="none"})),document.body.insertAdjacentHTML("beforeend",'<div id="eventModal" class="modal">\n    <div class="modal-content">\n      <span class="close-modal">&times;</span>\n      \x3c!-- Image Carousel --\x3e\n      <div class="carousel">\n        <div class="carousel-images"></div>\n        <button class="carousel-btn prev">❮</button>\n        <button class="carousel-btn next">❯</button>\n      </div>\n\n      <div class="credits-section">\n        <span class="credits-list">Credits: </span>\n      </div>\n\n      <h2 id="modalTitle"></h2>\n      <div id="modalDates">\n        <p id="modalStart"></p>\n        <p id="modalEnd"></p>\n      </div>\n      <div id="modalDescription"></div>\n      <a id="modalCta" class="cta-btn" title="Sky Blog">\n      </a>\n    </div>\n    </div>'),document.querySelector(".carousel-btn.prev").addEventListener("click",(function(){k(-1)})),document.querySelector(".carousel-btn.next").addEventListener("click",(function(){k(1)})),document.querySelector(".close-modal").addEventListener("click",(function(e){document.getElementById("eventModal").style.display="none"})),window.addEventListener("click",(function(e){const t=document.getElementById("eventModal");e.target===t&&(t.style.display="none")})),document.head.insertAdjacentHTML("beforeend","\n      <style>\n      .modal {\n        display: none;\n        position: fixed;\n        z-index: 1000;\n        left: 0;\n        top: 0;\n        width: 100%;\n        height: 100%;\n        background-color: rgba(0,0,0,0.7);\n        overflow-y: scroll;\n        color: var(--dark-text);\n      }\n\n      .modal-content {\n        background-color: white;\n        margin: auto;\n        padding: 20px;\n        width: 80%;\n        max-width: 600px;\n        border-radius: 8px;\n        position: relative;\n        margin-top: 5%;\n      }\n\n      #modalDates {\n        margin-bottom: 10px;\n      }\n\n      #modalDates p{\n        font-size: 14px;\n      }\n\n      .close-modal {\n        position: absolute;\n        top: 10px;\n        right: 15px;\n        font-size: 24px;\n        font-weight: bold;\n        cursor: pointer;\n        z-index: 1000;\n      }\n\n      .credits-section {\n        display: flex;\n        flex-direction: row;\n        justify-content: flex-start;\n        align-items: center;\n      }\n\n      .camera-icon {\n        width: 20px;\n        height: 20px;\n      }\n\n      .credits-list{\n        font-size: 12px;\n      }\n\n      .carousel {\n        position: relative;\n        width: 100%;\n        margin-bottom: 20px;\n      }\n\n      .carousel-images {\n        display: flex;\n        overflow: hidden;\n        width: 100%;\n        height: auto;\n        border-radius: 4px;\n      }\n\n      .carousel-images img {\n        width: 100%;\n        height: 100%;\n        object-fit: cover;\n        display: none;\n      }\n\n      .carousel-images img.active {\n        display: block;\n      }\n\n      .carousel-btn {\n        position: absolute;\n        top: 50%;\n        transform: translateY(-50%);\n        background: rgba(0,0,0,0.5);\n        color: white;\n        border: none;\n        border-radius: 50%;\n        width: 40px;\n        height: 40px;\n        font-size: 18px;\n        cursor: pointer;\n      }\n\n      .carousel-btn.prev {\n        left: 10px;\n      }\n\n      .carousel-btn.next {\n        right: 10px;\n      }\n\n      #modalTitle {\n        margin-top: 15px;\n        margin-bottom: 10px;\n        font-size: 24px;\n      }\n\n      #modalDescription {\n        margin-bottom: 20px;\n        text-align: justify;\n        font-size: 16px;\n        line-height: 1.5;\n      }\n\n      .cta-btn {\n        display: inline-block;\n        padding: 10px 20px;\n        background-color: var(--secondary-color);\n        color: white;\n        text-decoration: none;\n        border-radius: 4px;\n        font-weight: bold;\n        z-index: 1000;\n        cursor: pointer;\n        width: 100%;\n        text-align: center;\n      }\n      </style>\n    ")}))}},n={};function o(e){var s=n[e];if(void 0!==s)return s.exports;var a=n[e]={id:e,loaded:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.loaded=!0,a.exports}o.m=t,e=[],o.O=(t,n,s,a)=>{if(!n){var i=1/0;for(d=0;d<e.length;d++){for(var[n,s,a]=e[d],r=!0,c=0;c<n.length;c++)(!1&a||i>=a)&&Object.keys(o.O).every((e=>o.O[e](n[c])))?n.splice(c--,1):(r=!1,a<i&&(i=a));if(r){e.splice(d--,1);var l=s();void 0!==l&&(t=l)}}return t}a=a||0;for(var d=e.length;d>0&&e[d-1][2]>a;d--)e[d]=e[d-1];e[d]=[n,s,a]},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e={57:0};o.O.j=t=>0===e[t];var t=(t,n)=>{var s,a,[i,r,c]=n,l=0;if(i.some((t=>0!==e[t]))){for(s in r)o.o(r,s)&&(o.m[s]=r[s]);if(c)var d=c(o)}for(t&&t(n);l<i.length;l++)a=i[l],o.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return o.O(d)},n=self.webpackChunkthat_sky_calendar=self.webpackChunkthat_sky_calendar||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var s=o.O(void 0,[826],(()=>o(44)));s=o.O(s)})();